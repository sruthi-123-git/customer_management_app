{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nfunction CustomerForm({\n  customerId\n}) {\n  _s();\n  const [customer, setCustomer] = useState({\n    first_name: '',\n    last_name: '',\n    phone: '',\n    city: '',\n    state: '',\n    pincode: ''\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (customerId) {\n      axios.get(`http://localhost:5000/api/customers/${customerId}`).then(res => setCustomer(res.data)).catch(err => console.error(err));\n    }\n  }, [customerId]);\n  function handleChange(e) {\n    setCustomer({\n      ...customer,\n      [e.target.name]: e.target.value\n    });\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    const method = customerId ? axios.put : axios.post;\n    const url = customerId ? `http://localhost:5000/api/customers/${customerId}` : 'http://localhost:5000/api/customers';\n    method(url, customer).then(() => {\n      alert(customerId ? 'Customer updated!' : 'Customer created!');\n      navigate('/');\n    }).catch(err => {\n      console.error(err);\n      alert('Error saving customer');\n    });\n  }\n  return /*#__PURE__*/React.createElement('form', {\n    onSubmit: handleSubmit\n  }, Object.keys(customer).map(key => /*#__PURE__*/React.createElement('input', {\n    key,\n    name: key,\n    value: customer[key],\n    onChange: handleChange,\n    placeholder: key.toUpperCase(),\n    required: ['first_name', 'last_name', 'phone'].includes(key),\n    style: {\n      display: 'block',\n      margin: '0.5rem 0'\n    }\n  })), /*#__PURE__*/React.createElement('button', {\n    type: 'submit'\n  }, customerId ? 'Update' : 'Create'));\n}\n_s(CustomerForm, \"O+wOQs/WDYNHe4NyqyLNw7rNBgg=\", false, function () {\n  return [useNavigate];\n});\n_c = CustomerForm;\nexport default CustomerForm;\nvar _c;\n$RefreshReg$(_c, \"CustomerForm\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","CustomerForm","customerId","_s","customer","setCustomer","first_name","last_name","phone","city","state","pincode","navigate","get","then","res","data","catch","err","console","error","handleChange","e","target","name","value","handleSubmit","preventDefault","method","put","post","url","alert","createElement","onSubmit","Object","keys","map","key","onChange","placeholder","toUpperCase","required","includes","style","display","margin","type","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/customer_management_app/client/src/components/CustomerForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction CustomerForm({ customerId }) {\r\n  const [customer, setCustomer] = useState({\r\n    first_name: '',\r\n    last_name: '',\r\n    phone: '',\r\n    city: '',\r\n    state: '',\r\n    pincode: ''\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (customerId) {\r\n      axios.get(`http://localhost:5000/api/customers/${customerId}`)\r\n        .then(res => setCustomer(res.data))\r\n        .catch(err => console.error(err));\r\n    }\r\n  }, [customerId]);\r\n\r\n  function handleChange(e) {\r\n    setCustomer({ ...customer, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const method = customerId ? axios.put : axios.post;\r\n    const url = customerId\r\n      ? `http://localhost:5000/api/customers/${customerId}`\r\n      : 'http://localhost:5000/api/customers';\r\n\r\n    method(url, customer)\r\n      .then(() => {\r\n        alert(customerId ? 'Customer updated!' : 'Customer created!');\r\n        navigate('/');\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        alert('Error saving customer');\r\n      });\r\n  }\r\n\r\n  return React.createElement('form', { onSubmit: handleSubmit },\r\n    Object.keys(customer).map(key =>\r\n      React.createElement('input', {\r\n        key,\r\n        name: key,\r\n        value: customer[key],\r\n        onChange: handleChange,\r\n        placeholder: key.toUpperCase(),\r\n        required: ['first_name', 'last_name', 'phone'].includes(key),\r\n        style: { display: 'block', margin: '0.5rem 0' }\r\n      })\r\n    ),\r\n    React.createElement('button', { type: 'submit' }, customerId ? 'Update' : 'Create')\r\n  );\r\n}\r\n\r\nexport default CustomerForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}