{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\nimport AddressForm from './AddressForm';\nfunction AddressList(props) {\n  _s();\n  const customerId = props.customerId;\n  const [addresses, setAddresses] = useState([]);\n  const [editingId, setEditingId] = useState(null);\n  const fetchAddresses = useCallback(() => {\n    axios.get(`http://localhost:5000/api/customers/${customerId}/addresses`).then(res => {\n      setAddresses(res.data);\n    }).catch(err => {\n      console.error('Error fetching addresses:', err);\n    });\n  }, [customerId]);\n  useEffect(() => {\n    fetchAddresses();\n  }, [fetchAddresses]);\n  function handleEdit(id) {\n    setEditingId(id);\n  }\n  function handleUpdate() {\n    setEditingId(null);\n    fetchAddresses(); // Refresh after update\n  }\n  return /*#__PURE__*/React.createElement('div', null, /*#__PURE__*/React.createElement('h2', null, 'Addresses'), addresses.map(function (address) {\n    return /*#__PURE__*/React.createElement('div', {\n      key: address.id\n    }, editingId === address.id ? /*#__PURE__*/React.createElement(AddressForm, {\n      address: address,\n      customerId: customerId,\n      onSave: handleUpdate\n    }) : /*#__PURE__*/React.createElement('div', null, /*#__PURE__*/React.createElement('p', null, `${address.address}, ${address.city}, ${address.state}, ${address.pincode}`), /*#__PURE__*/React.createElement('button', {\n      onClick: function () {\n        handleEdit(address.id);\n      }\n    }, 'Edit')));\n  }), /*#__PURE__*/React.createElement(AddressForm, {\n    customerId: customerId,\n    onSave: handleUpdate\n  }));\n}\n_s(AddressList, \"z1UTlOvLtHzsyKGoMm8v1IbljTU=\");\n_c = AddressList;\nexport default AddressList;\nvar _c;\n$RefreshReg$(_c, \"AddressList\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","AddressForm","AddressList","props","_s","customerId","addresses","setAddresses","editingId","setEditingId","fetchAddresses","get","then","res","data","catch","err","console","error","handleEdit","id","handleUpdate","createElement","map","address","key","onSave","city","state","pincode","onClick","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Desktop/customer_management_app/client/src/components/AddressList.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport AddressForm from './AddressForm';\r\n\r\nfunction AddressList(props) {\r\n  const customerId = props.customerId;\r\n  const [addresses, setAddresses] = useState([]);\r\n  const [editingId, setEditingId] = useState(null);\r\n\r\n  const fetchAddresses = useCallback(() => {\r\n    axios\r\n      .get(`http://localhost:5000/api/customers/${customerId}/addresses`)\r\n      .then((res) => {\r\n        setAddresses(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error fetching addresses:', err);\r\n      });\r\n  }, [customerId]);\r\n\r\n  useEffect(() => {\r\n    fetchAddresses();\r\n  }, [fetchAddresses]);\r\n\r\n  function handleEdit(id) {\r\n    setEditingId(id);\r\n  }\r\n\r\n  function handleUpdate() {\r\n    setEditingId(null);\r\n    fetchAddresses(); // Refresh after update\r\n  }\r\n\r\n  return React.createElement(\r\n    'div',\r\n    null,\r\n    React.createElement('h2', null, 'Addresses'),\r\n    addresses.map(function (address) {\r\n      return React.createElement(\r\n        'div',\r\n        { key: address.id },\r\n        editingId === address.id\r\n          ? React.createElement(AddressForm, {\r\n              address: address,\r\n              customerId: customerId,\r\n              onSave: handleUpdate,\r\n            })\r\n          : React.createElement(\r\n              'div',\r\n              null,\r\n              React.createElement(\r\n                'p',\r\n                null,\r\n                `${address.address}, ${address.city}, ${address.state}, ${address.pincode}`\r\n              ),\r\n              React.createElement(\r\n                'button',\r\n                { onClick: function () { handleEdit(address.id); } },\r\n                'Edit'\r\n              )\r\n            )\r\n      );\r\n    }),\r\n    React.createElement(AddressForm, { customerId: customerId, onSave: handleUpdate })\r\n  );\r\n}\r\n\r\nexport default AddressList;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,eAAe;AAEvC,SAASC,WAAWA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC1B,MAAMC,UAAU,GAAGF,KAAK,CAACE,UAAU;EACnC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAEhD,MAAMY,cAAc,GAAGX,WAAW,CAAC,MAAM;IACvCC,KAAK,CACFW,GAAG,CAAC,uCAAuCN,UAAU,YAAY,CAAC,CAClEO,IAAI,CAAEC,GAAG,IAAK;MACbN,YAAY,CAACM,GAAG,CAACC,IAAI,CAAC;IACxB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEF,GAAG,CAAC;IACjD,CAAC,CAAC;EACN,CAAC,EAAE,CAACX,UAAU,CAAC,CAAC;EAEhBR,SAAS,CAAC,MAAM;IACda,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,SAASS,UAAUA,CAACC,EAAE,EAAE;IACtBX,YAAY,CAACW,EAAE,CAAC;EAClB;EAEA,SAASC,YAAYA,CAAA,EAAG;IACtBZ,YAAY,CAAC,IAAI,CAAC;IAClBC,cAAc,CAAC,CAAC,CAAC,CAAC;EACpB;EAEA,oBAAOd,KAAK,CAAC0B,aAAa,CACxB,KAAK,EACL,IAAI,eACJ1B,KAAK,CAAC0B,aAAa,CAAC,IAAI,EAAE,IAAI,EAAE,WAAW,CAAC,EAC5ChB,SAAS,CAACiB,GAAG,CAAC,UAAUC,OAAO,EAAE;IAC/B,oBAAO5B,KAAK,CAAC0B,aAAa,CACxB,KAAK,EACL;MAAEG,GAAG,EAAED,OAAO,CAACJ;IAAG,CAAC,EACnBZ,SAAS,KAAKgB,OAAO,CAACJ,EAAE,gBACpBxB,KAAK,CAAC0B,aAAa,CAACrB,WAAW,EAAE;MAC/BuB,OAAO,EAAEA,OAAO;MAChBnB,UAAU,EAAEA,UAAU;MACtBqB,MAAM,EAAEL;IACV,CAAC,CAAC,gBACFzB,KAAK,CAAC0B,aAAa,CACjB,KAAK,EACL,IAAI,eACJ1B,KAAK,CAAC0B,aAAa,CACjB,GAAG,EACH,IAAI,EACJ,GAAGE,OAAO,CAACA,OAAO,KAAKA,OAAO,CAACG,IAAI,KAAKH,OAAO,CAACI,KAAK,KAAKJ,OAAO,CAACK,OAAO,EAC3E,CAAC,eACDjC,KAAK,CAAC0B,aAAa,CACjB,QAAQ,EACR;MAAEQ,OAAO,EAAE,SAAAA,CAAA,EAAY;QAAEX,UAAU,CAACK,OAAO,CAACJ,EAAE,CAAC;MAAE;IAAE,CAAC,EACpD,MACF,CACF,CACN,CAAC;EACH,CAAC,CAAC,eACFxB,KAAK,CAAC0B,aAAa,CAACrB,WAAW,EAAE;IAAEI,UAAU,EAAEA,UAAU;IAAEqB,MAAM,EAAEL;EAAa,CAAC,CACnF,CAAC;AACH;AAACjB,EAAA,CA7DQF,WAAW;AAAA6B,EAAA,GAAX7B,WAAW;AA+DpB,eAAeA,WAAW;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}